@using Microsoft.AspNetCore.Http;

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>
    <link rel="stylesheet" asp-href-include="/lib/bootstrap/**/*.min.css"
          asp-href-exclude="**/*-reboot, **/*-grid" />
    <link rel="shortcut icon" href="/images/favicon.png" />
    <link rel="stylesheet" href="/css/style.css" />

</head>
<body background="/images/bg.png">
    <div class="wrapper">
        <div style="float:right; margin: 2rem;">
            @if (Context.Session.GetString("restaurant_owner_Id") == null)
            {
                <a asp-action="OwnerLogin" asp-controller="Restaurant" class="btn btn-sm btn-success">
                    <span>
                        <small>Restaurant Login</small>
                    </span>
                </a>
            }
            else
            {
                <a asp-action="RestaurantLogout" asp-controller="Restaurant" class="btn btn-sm btn-success">
                    <span>
                        <small>Log Out</small>
                    </span>
                </a>
            }
        </div>
        <div class="bg-dark">
            @*<h2 class="navbar-brand text-light">DineOut</h2>*@
            <div class="navbar-brand text-light">
                @if (Context.Session.GetString("restaurant_owner_Id") == null)
                {
                    <a asp-controller="Home" asp-action="Index">
                        <img class="banner" style="width: 80px" src="/images/logo_transparent.png">
                    </a>
                }
                else
                {
                    <a asp-controller="Restaurant" asp-action="Menu">
                        <img class="banner" style="width: 80px" src="/images/logo_transparent.png">
                    </a>
                }
            </div>
        </div>
        <div class="font-weight-bold">
            <nav class="nav-justified navbar-expand-lg navbar-light bg-light">
                <ul class="nav navbar-nav mr-auto">
                    <li class="nav-item active"><a asp-controller="Restaurant" asp-action="Menu" class="nav-link">Menu</a></li>
                    <li class="nav-item active dropdown">
                        <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Orders
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" asp-action="Orders">All Orders</a>
                            <a class="dropdown-item" asp-action="CurrentOrders">Current Orders</a>
                            <a class="dropdown-item" asp-action="CompletedOrders">Completed Orders</a>
                        </div>
                    </li>
                    <li class="nav-item active"><a asp-controller="Restaurant" asp-action="Profile" class="nav-link">Profile</a></li>
                    <li class="nav-item active"><a asp-controller="Home" asp-action="QrGenerator" class="nav-link">Generate QR Code</a></li>
                    <li class="nav-item active"><a asp-controller="Restaurant" asp-action="Notification" class="nav-link">Notification</a></li>
                </ul>
            </nav>
        </div>
        <div>
            <div style="float:right">
                <form class="form-inline my-2 my-lg-0" asp-action="SearchString">
                    <input class="form-control mr-sm-2" type="search" placeholder="Search Item" name="searchedString" />
                    <button class="btn btn-success my-2 my-sm-0" type="submit">Search</button>
                </form>
            </div>
            <div>
                @if (TempData["message"] != null)
                {
                    <div class="alert">@TempData["message"]</div>
                }
            </div>
            <div class="container">
                @RenderBody()
            </div>
            <br />
            <br />
            <br />
            <br />
            <footer class="bg-light">
                <div>
                    <p class="d-flex justify-content-center">
                        &copy; 2020 - COMP231 Group4 - Project DineOut
                    </p>
                    <p class="d-flex justify-content-center">
                        Background image is lisenced by
                        <a href='https://pngtree.com/free-backgrounds' target="_blank">pngtree.com</a>
                    </p>
                </div>
            </footer>
        </div>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    </div>
</body>
</html>
